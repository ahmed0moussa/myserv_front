<div class="container-fluid">
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Ajout candidat</h1>
    </div>
    <form #f="ngForm" [formGroup]="addcandidateForm" (ngSubmit)="onSubmit(f) " enctype="multipart/form-data">
        <div class="row">
            
                <div class="col-lg-12">
                    
                        <!-- form card -->
                        <div class="card shadow mb-4">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Donné de candidat</h6>
                            </div>
                            
                            <div class="card-body ">
                                <div class="form-row pb-3">
                                    <div class="form-group col-lg-6">
                                        <label for="lastname">Nom</label>
                                        <input type="text" class="form-control"  formControlName="lastName" [ngClass]="{'is-invalid':submitted&&addcandidateForm.controls['lastName'].errors}" placeholder="Nom candidat" required>
                                        <div *ngIf="submitted && addcandidateForm.controls['lastName'].errors" class="text-danger mt-1">
                                            nom obligatoire
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6">
                                        <label for="firstname">Prenom</label>
                                        <input type="text" class="form-control"  placeholder="Prenom candidat" formControlName="firstName" [ngClass]="{'is-invalid':submitted&&addcandidateForm.controls['firstName'].errors}" required >
                                        <div *ngIf="submitted && addcandidateForm.controls['firstName'].errors" class="text-danger mt-1">
                                            prenom obligatoire
                                        </div>   
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-lg-6">
                                        <label for="email">Email</label>
                                        <input type="text" class="form-control"  formControlName="email" [ngClass]="{'is-invalid':submitted&&addcandidateForm.controls['email'].errors}" placeholder="email candidat" required>
                                        <div *ngIf="submitted && addcandidateForm.controls['email'].errors" class="text-danger mt-1">
                                            nom obligatoire
                                        </div>
                                    </div>
                                    <div class="form-group col-lg-6">
                                        <label for="post">Postes</label>
                                    <select class="custom-select" formControlName="post" [ngClass]="{'is-invalid':submitted&&addcandidateForm.controls['post'].errors}" required>
                                        <option selected disabled value="">Choisissez le poste</option>
                                        <option *ngFor="let specialite of listeSpecialite" [value]="specialite.id">{{specialite.nom}}</option>
                                    </select>
                                    <div *ngIf="submitted && addcandidateForm.controls['post'].errors" class="text-danger mt-1">
                                        post obligatoire
                                    </div>
                                        
                                    </div>
                                </div>
                                <div class="form-row py-3">
                                    <div class="form-group col-lg-12 mx-1">
                                        <label for="cv">Cv</label>
                                    </div>
                                    <div class="form-group col-lg-12 mx-1">
                                        <input type="file" #fileInput class="custom-file-input" id="customFile" (change)="onFileSelected($event)" formControlName="cv"
                                        [ngClass]="{'is-invalid': submitted && addcandidateForm.controls['cv'].errors}">
                                        <label class="custom-file-label" for="customFile">{{ selectedFileName || 'Choose cv' }}</label>
                                        <div class="text-danger mt-1" *ngIf="submitted && addcandidateForm.controls['cv'].errors">
                                            CV obligatoire
                                        </div>
                                        
                                    </div>
                                </div>
                            

                                

                            </div>
                        </div>
                </div>
                    <div class="col-lg-12">
                        <!-- cv card -->
                        <div class="card shadow mb-4">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Donné d'entretien</h6>
                            </div>
                            <div class="card-body">
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="date">Date d'entretien</label>
                                        <input type="date" class="form-control"  formControlName="date" [ngClass]="{'is-invalid':submitted&&addcandidateForm.controls['date'].errors&& addcandidateForm.controls['date'].errors['minDate']}" required>
                                        <div *ngIf="submitted && addcandidateForm.controls['date'].errors&& addcandidateForm.controls['date'].errors['minDate']" class="text-danger mt-1">
                                            date de l'entretien obligatoire et date future
                                        </div>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="time">Heure d'entretien</label>
                                        <input type="time" class="form-control"  formControlName="time" [ngClass]="{'is-invalid':submitted&&addcandidateForm.controls['time'].errors}" required>
                                        <div *ngIf="submitted && addcandidateForm.controls['time'].errors" class="text-danger mt-1">
                                            time de entretien obligatoire
                                        </div>
                                    </div>
                                </div>  
                                
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                    <div class="card shadow mb-4 ">
                        <div class="card-body text-center">
                            <button type="submit" class="btn btn-primary " >Enregistrer</button>
                        </div>
                    </div>
                </div>
            
        </div>

    </form>
</div>

