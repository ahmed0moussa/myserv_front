<div class="container-fluid">
    <form #f="ngForm" [formGroup]="compteRenduForm" (ngSubmit)="onSubmit()">
    <h1 class="h3 mb-2 text-gray-800">Compte rendu</h1>
    <div class="card shadow mb-4">
            <div class="card-header">
                <h6 class="m-0 font-weight-bold text-primary">Coordonnées du entretien</h6>
            </div>
            
        <div class="card-body">
            <div class="row">
                <div class="col-md-9">
                    <div class="row">
                        <div class=" form-group col-md-4" >
                            <label for="Postes">Postes</label>
                            <input type="text" class="form-control"  [value]="entretien.specialite?.nom"  disabled>
                        </div>
                        <div class=" form-group col-md-4">
                            <label for="Postes">feedback</label>
                            <span class="form-control badge badge-pill " [ngClass]="{
                                'badge-primary': entretien.feedback?.nom === 'Validé RH',
                                'badge-danger': entretien.feedback?.nom === 'Non validé RH' || entretien.feedback?.nom === 'Non validé TECH',
                                'badge-success': entretien.feedback?.nom === 'Recruté',
                                'badge-info': entretien.feedback?.nom === 'Validé TECH',
                                'badge-secondary': entretien.feedback?.nom ==='En coure',
                                'badge-light': entretien.feedback?.nom ==='N\'a pas assisté'
                              }">{{entretien.feedback?.nom}}</span>
                        </div>
                        <div class=" form-group col-md-4">
                            <label for="Recruteur">Recruteur</label>
                            <input type="text" class="form-control" disabled [value]="entretien.recruteur?.lastName+' '+entretien.recruteur?.firstName">
                        </div>
                    </div>
                    <div class="row">
                        <div class=" form-group col-md-4">
                            <label for="dateen">Date du premier entretien</label>
                            <input type="date" class="form-control" [value]="entretien.datecreation" disabled>
                        </div>
                        <div class=" form-group col-md-4">
                            <label for="dateen">Date d'entretien</label>
                            <input type="date" formControlName="datemodif"  class="form-control">
                        </div>
                        <div class=" form-group col-md-4">
                            <label for="time">Heure d'entretien</label>
                            <input type="time" formControlName="time"  class="form-control" [value]="entretien.time">
                        </div>
                    </div>
                    <div class="row">
                        <div class=" form-group col-md-12">
                            <label for="comment">Commentaire RH</label>
                            <textarea   rows="5" class="form-control" formControlName="commentaire" [value]="entretien.commentaire"></textarea>
                            
                        </div>
                    </div>

                </div>
                <div class="col-md-3">
                    <div class="card-body text-center">
                        <!-- Profile picture image-->
                        <a [href]="entretien.file">
                        <img
                        class="img-account-profile mb-2 "
                        src=" ../../../assets/template/img/cv.jpg"
                        width="200px" height="300px"></a>
                        <div class="row position-relative">
                            <!-- Profile picture upload button-->
                            <input type="file" class="custom-file-input" id="customFile" (change)="oncvSelected($event)" formControlName="file" >
                            <label class="custom-file-label" for="customFile">{{ selectedcvName || 'Choose file' }}</label>
                        </div>
                        
                        
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row">
        <div class="col-xl-4">
            <!--  picture card-->
            <div class="card shadow mb-4 mb-xl-0">
                <div class="card-header">
                    <h6 class="m-0 font-weight-bold text-primary">photo de candidat </h6>
                </div>
                <div class="card-body text-center">
                    <!-- Profile picture image-->
                    <img id="myImg" (click)="openModal()"
                    class="img-account-profile rounded-circle mb-2 "
                    [src]="ImageUrl ? ImageUrl : '../../../assets/template/img/avatar1.png'"
                    alt="User Avatar"
                    width="300px" height="300px">
                    <!-- The Modal -->
                    <div id="myModal" #myModal class="modal">

                        <!-- The Close Button -->
                        <span class="close" (click)="closeModal()">&times;</span>
                    
                        <!-- Modal Content (The Image) -->
                        <img class="modal-content" id="img01" [src]="ImageUrl" alt="Modal Image">
                    
                        <!-- Modal Caption (Image Text) -->
                        <div id="caption"></div>
                    </div>
                        <!-- Profile picture help block-->
                    <div class="small font-italic text-muted mb-4">
                        JPG or PNG no larger than 5 MB
                    </div>
                    <div class="row position-relative">
                        <!-- Profile picture upload button-->
                        <input type="file" class="custom-file-input" id="customFile" (change)="onFileSelected($event)" formControlName="image" >
                        <label class="custom-file-label" for="customFile">{{ selectedFileName || 'Choose file' }}</label>
                    </div>
                    
                    
                    
                </div>
            </div>
        </div>
        <div class="col-xl-8">
            <!-- canditate details card-->
            <div class="card shadow mb-4">
                <div class="card-header">
                    <h6 class="m-0 font-weight-bold text-primary">Coordonnées du candidat</h6>
                </div>
                <div class="card-body">
                     <!-- Form Row-->
                     <div class="row gx-3 mb-3">
                         <!-- Form Group (last name)-->
                         <div class="col-md-6">
                             <label class="small mb-1"  for="inputLastName">Nom</label>
                             <input class="form-control"  type="text" formControlName="lastName"  placeholder="nom" [value]="entretien.lastName">
                         </div>
                         <!-- Form Group (first name)-->
                         <div class="col-md-6">
                             <label class="small mb-1" for="inputFirstName">Prenom</label>
                             <input class="form-control"  type="text" formControlName="firstName" placeholder="prenom" [value]="entretien.firstName">
                         </div>
                         
                     </div>
                     <!-- Form Row        -->
                     <div class="row gx-3 mb-3">
                         <!-- Form Group (phone)-->
                         <div class="col-md-6">
                             <label class="small mb-1"  for="phone">Numéro de téléphone </label>
                             <input class="form-control"  type="tel" formControlName="Phone" placeholder="numéro de téléphone" value="">
                         </div>
                         <!-- Form Group (location)-->
                         <div class="col-md-6">
                             <label class="small mb-1"  for="inputLocation">Adresse </label>
                             <input class="form-control" formControlName="Address" type="text" placeholder="Adresse " value="">
                         </div>
                     </div>
                     <div class="row gx-3 mb-3">
                         <!-- Form Group (email address)-->
                         <div class="col-md-6">
                             <label class="small mb-1" for="inputEmailAddress">Adresse mail </label>
                             <input class="form-control" formControlName="Email" id="inputEmailAddress" type="email" placeholder="name@example.com" value="">
                         </div>
                         <div class="col-md-2">
                             <!-- Form Group (Permis)-->
                             <label class="small mb-1" for="inputAge">Permis</label>
                             <select class="form-control" formControlName="Permit" name="Status">
                                 <option value="" disabled selected>--Permis de conduire ?--</option>
                                 <option value="oui">oui</option>
                                 <option value="non">non</option>
                             </select>
                         </div>
                         <!-- Form Group (age)-->
                         <div class="col-md-2">
                             <label class="small mb-1" for="inputAge">Âge</label>
                             <input class="form-control" formControlName="Age" type="number" placeholder="Âge " >
                         </div>
                         <!-- Form Group (Status)-->
                         <div class="col-md-2">
                             <!-- Form Group (Status)-->
                             <label class="small mb-1" for="inputStatus ">Statut</label>
                             <select class="form-control" formControlName="Status" name="Status">
                                 <option value="" disabled selected>--choisissez Statut--</option>
                                 <option value="célibataire">célibataire</option>
                                 <option value="marié(e)">marié(e) sans enfants</option>
                                 <option value="marié(e)">marié(e) avec enfants</option>
                                 <option value="divorcé(e)">divorcé(e)</option>
                                 <option value="veuf(ve)">veuf(ve)</option>
                             </select>
                         </div>
                     </div>
                     <!-- Form Row-->
                     <div class="row gx-3 mb-3">
                         <!-- Form Group (Diplôme)-->
                         <div class="col-md-4">
                             <label class="small mb-1" for="inputDiplôme">Diplôme</label>
                             <input class="form-control" formControlName="Diplome"   type="text" placeholder="Diplôme" value="">
                         </div>
                         <!-- Form Group (Années d’expérience )-->
                         <div class="col-md-4">
                             <label class="small mb-1" for="inputexp">Années d’expérience </label>
                             <input class="form-control" formControlName="YearsOfExperience" type="number" placeholder="Années d’expérience " value="">
                         </div>
                         <!-- Form Group (salary)-->
                         <div class="col-md-4">
                             <label class="small mb-1" for="inputsalary">Salaire Souhaité annuel brut  </label>
                             <input class="form-control" formControlName="Salary" type="text" placeholder="Salaire" value="">
                         </div>
                         
                     </div>
                     <div class="row gx-3 mb-3">
                        <!-- Form Group ()-->
                        <div class="col-md-3">
                            <label class="small mb-1" for="inputsalary">Préavis</label>
                            <input class="form-control" formControlName="Preavis" type="text" placeholder="Préavis" value="">
                        </div>
                         <div class="col-md-3">
                             <label class="small mb-1" for="inputvisa">VISA</label>
                             <input class="form-control" formControlName="VISA" type="text" placeholder="VISA" value="">
                         </div>
                         <!-- Form Group (Années d’expérience )-->
                         <div class="col-md-4">
                             <label class="small mb-1" for="inputexp">Mobilité (pour les résidants en France)</label>
                             <input class="form-control" formControlName="Mobilite" type="text" placeholder="Mobilité " value="">
                         </div>
                         <!-- Form Group (Autres boîtes:)-->
                         <div class="col-md-2">
                             <label class="small mb-1" for="input">Autres boîtes  </label>
                             <select class="form-control" formControlName="AutredsBoites" name="Status">
                                <option value="" disabled selected>--autres boîtes ?--</option>
                                <option value="oui">oui</option>
                                <option value="non">non</option>
                            </select>
                         </div>
                     </div>
                </div>
            </div>
        </div>
        <div class="col-xl-12">
            <!-- questionnaire RH card-->
            <div class="card shadow mb-4">
                <div class="card-header">
                    <h6 class="m-0 font-weight-bold text-primary">Questionnaire RH</h6>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">Niveau Français</label>
                            <input class="form-control" formControlName="frenchLevel" type="text" placeholder="Français">
                          </div>
                        </div>
                        <div class="col">
                            <div class=" form-group">
                              <label class="black">Niveau Anglais</label>
                              <input class="form-control" formControlName="englichLevel" type="text" placeholder="Anglais">
                            </div>
                          </div>
                    </div>
                    <div class="row">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">Q1. Quels sont vos Qualités / Défauts ?(défauts: pistes d’amélioration actuelles)</label>
                            <div class="row">
                                <div class="col"><textarea class="form-control" cols="30" rows="3" placeholder="Qualités" formControlName="qualities"></textarea></div>
                                <div class="col"><textarea class="form-control" cols="30" rows="3" placeholder="Défauts" formControlName="Faults"></textarea></div>
                            </div>
                          </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">Q2. Comment gérez-vous un conflit au travail? </label>
                            <textarea class="form-control" cols="30" rows="3" placeholder="" formControlName="Q2"></textarea>
                          </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">Q3. Comment gérez-vous une situation de stress ?</label>
                            <textarea class="form-control" cols="30" rows="3" placeholder="" formControlName="Q3"></textarea>
                          </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">Q4. En quoi ce poste vous  intéresse t-il ?<br>
                                <span class="mar"> Qu'est-ce que vous attendez de ce poste ?<br></span>
                                <span class="mar">Pourquoi êtes-vous à l'écoute du marché?<br></span>
                                <span class="mar">Pourquoi en France exactement?</span>
                            </label>
                            <textarea class="form-control" cols="30" rows="3" placeholder="" formControlName="Q4"></textarea>
                          </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">Q5. Comment envisagez-vous votre carrière? (Où vous voyez-vous dans cinq ans ?)</label>
                            <textarea class="form-control" cols="30" rows="3" placeholder="" formControlName="Q5"></textarea>
                          </div>
                        </div>
                    </div>
                    
                    
                </div>
            </div>
        </div>
        <div class="col-xl-12">
            <!-- questionnaire TECH card-->
            <div class="card shadow mb-4">
                <div class="card-header">
                    <h6 class="m-0 font-weight-bold text-primary">Questionnaire TECH</h6>
                </div>
                <div class="card-body">
                    <div class="row" *ngFor="let questionT of listequestionTECH">
                        <div class="col">
                          <div class=" form-group">
                            <label class="black">{{ questionT.textQuestion }}</label>
                            <input class="d-none" type="text" [value]="questionT" >
                            <textarea  (change)="onchange($event,questionT)" class="form-control" cols="30" rows="3" placeholder="" ></textarea>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-12"><!-- feedback and button -->
            <div class="card shadow mb-4">
                <div class="card-header">
                    <h6 class="m-0 font-weight-bold text-primary">feedback</h6>
                </div>
                <div class="card-body">
                    <div class="row" >
                        <div class="col">
                          <div class=" form-group">
                            <label class="black"></label>
                            <select class="custom-select" formControlName="feedback" >
                                        <option *ngFor="let feedback of listeFeedBack" [value]="feedback"
                                        [ngClass]="{
                                            'badge-primary': feedback.nom === 'Validé RH',
                                            'badge-danger': feedback.nom === 'Non validé RH' || feedback.nom === 'Non validé TECH',
                                            'badge-success': feedback.nom === 'Recruté',
                                            'badge-info': feedback.nom === 'Validé TECH',
                                            'badge-secondary': feedback.nom ==='En coure',
                                            'badge-light': feedback.nom ==='N\'a pas assisté'
                                          }" [selected]="entretien.feedback?.nom === feedback.nom" [ngValue]="feedback">{{feedback.nom}} </option>
                                    </select>
                          </div>
                        </div>
                        
                            <div class="col ">
                                <div class=" form-group">
                                    <button type="submit" class="btn btn-primary " >Enregistrer</button>
                                </div>
                          </div>
                        
                    </div>
                    
                </div>
            </div>
        </div>
        
    </div>
</form>
</div>


